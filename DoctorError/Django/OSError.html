


<pre>
    <title>
    OSError at 
    [Errno 28] No space left on device
    </title>

    

    場所:Djangoでの開発にて
    コード:
    <box>
    with open('/home/ec2-user/cmysite/static/imgpro/networkdata/{}.json'.format(username), 'w+') as f:
        data = {
            "nodes" : genSearchTree.nodes,
            "links" : genSearchTree.links
        }
        <em>json.dump( data,f, indent=4) </em>
    #3 linkとnodesデータを作成
    nodes = genSearchTree.nodes
    links = genSearchTree.links
    </box>

    説明：
    その名の通り、「スペースがないよ！」と教えてくれている。
    新しいファイルやデータベースへの追加の際にエラーが発生することが多い。


    対処法:
    ファイルを削除して、ハードウェアのリソースを確保しよう！

    １df -hでファイルの容量を調べる
    <box>
[ec2-user@awsec2~]$ df -h
ファイルシス   サイズ  使用  残り 使用% マウント位置
devtmpfs         475M     0  475M    0% /dev
tmpfs            492M     0  492M    0% /dev/shm
tmpfs            492M   56M  436M   12% /run
tmpfs            492M     0  492M    0% /sys/fs/cgroup
/dev/xvda1        24G   24G   20K  100% /
tmpfs             99M     0   99M    0% /run/user/1000
    </box>

    2 du -h容量を食っているデバイスを調べる
    <box>
        [ec2-user@awsec2 ~]$ du -h
4.0K	./.ssh
4.0K	./.cache/pip/http/1/d/6/4/5
4.0K	./.cache/pip/http/1/d/6/4
4.0K	./.cache/pip/http/1/d/6
4.0K	./.cache/pip/http/1/d
4.0K	./.cache/pip/http/1/8/a/f/f
4.0K	./.cache/pip/http/1/8/a/f
4.0K	./.cache/pip/http/1/8/a
4.0K	./.cache/pip/http/1/8
4.0K	./.cache/pip/http/1/f/c/b/6
4.0K	./.cache/pip/http/1/f/c/b
    </box>
    

    3　さらに絞り込む (grepコマンドでGの行のみの抽出を行う)
    <box>
[ec2-user@ip-172-31-43-91 ~]$ du -h | grep G
4.0K	./cmysite/imgpro/KeywordGrep
4.0K	./cmysite/bifrost/robots/GooAPI/__pycache__
8.0K	./cmysite/bifrost/robots/GooAPI
4.0K	./robots/GooAPI/__pycache__
8.0K	./robots/GooAPI
16K	./memo/Genetics
1.4G	.
    </box>

    4　さらに絞り込む

    <a src="https://eng-entrance.com/linux-command-du">https://eng-entrance.com/linux-command-du</a>

    5　消す

    
    
</pre>
